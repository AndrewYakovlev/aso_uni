# Layout административной панели

## Обзор

Layout административной панели предоставляет единообразный интерфейс для управления магазином. Включает в себя боковую навигацию, шапку с профилем пользователя и адаптивный дизайн.

## Структура компонентов

### 1. PanelLayout (`app/panel/layout.tsx`)

Основной layout для всех страниц панели управления.

**Функции:**
- Проверка авторизации и прав доступа
- Структура с боковой панелью и основным контентом
- Адаптивный дизайн (мобильное меню)

### 2. PanelNavigation (`widgets/panel-navigation`)

Боковая навигация с разделами и подразделами.

```tsx
import { PanelNavigation } from '@/widgets/panel-navigation'

<PanelNavigation className="custom-class" />
```

**Особенности:**
- Автоматическая подсветка активного раздела
- Фильтрация пунктов по ролям (adminOnly)
- Бейджи для уведомлений
- Скроллинг при большом количестве пунктов

### 3. PanelHeader (`widgets/panel-header`)

Шапка панели с поиском, уведомлениями и профилем.

```tsx
import { PanelHeader } from '@/widgets/panel-header'

<PanelHeader title="Заголовок страницы" />
```

**Компоненты шапки:**
- Мобильное меню (Sheet)
- Поиск по панели
- Уведомления с счетчиком
- Выпадающее меню профиля

## Вспомогательные компоненты

### Breadcrumbs

Хлебные крошки для навигации.

```tsx
import { Breadcrumbs } from '@/shared/ui/breadcrumbs'

// Автогенерация из URL
<Breadcrumbs />

// Или с кастомными элементами
<Breadcrumbs 
  items={[
    { title: 'Панель управления', href: '/panel' },
    { title: 'Заказы', href: '/panel/orders' },
    { title: 'Детали заказа' }
  ]} 
/>
```

### PanelPageWrapper

Обертка для страниц с заголовком и действиями.

```tsx
import { PanelPageWrapper } from '@/shared/ui/panel-page-wrapper'

<PanelPageWrapper
  title="Управление товарами"
  description="Добавляйте, редактируйте и удаляйте товары"
  actions={
    <Button>Добавить товар</Button>
  }
>
  {/* Контент страницы */}
</PanelPageWrapper>
```

## Структура навигации

Навигация разделена на секции:

1. **Основное**
   - Дашборд
   - Заказы
   - Чаты

2. **Каталог**
   - Товары
   - Категории
   - Бренды
   - Характеристики
   - Автомобили

3. **Маркетинг**
   - Скидки
   - Промокоды

4. **Администрирование**
   - Пользователи (только для админов)
   - Аналитика
   - Настройки (только для админов)

## Права доступа

### Роли и доступ

- **ADMIN**: Полный доступ ко всем разделам
- **MANAGER**: Доступ ко всем разделам кроме отмеченных `adminOnly`
- **CUSTOMER**: Нет доступа к панели

### Проверка прав

Проверка происходит на уровне:
1. Layout - редирект неавторизованных
2. Навигация - скрытие недоступных пунктов
3. Страницы - дополнительная проверка

## Адаптивность

### Desktop (lg и выше)
- Фиксированная боковая панель 288px
- Полноценная шапка с поиском

### Mobile/Tablet
- Боковая панель скрыта
- Бургер-меню в шапке
- Sheet компонент для навигации

## Использование

### Создание новой страницы

```tsx
// app/panel/products/page.tsx
import { PanelPageWrapper } from '@/shared/ui/panel-page-wrapper'
import { Button } from '@/shared/ui/button'

export default function ProductsPage() {
  return (
    <PanelPageWrapper
      title="Товары"
      description="Управление каталогом товаров"
      actions={
        <Button>Добавить товар</Button>
      }
    >
      {/* Контент страницы */}
    </PanelPageWrapper>
  )
}
```

### Добавление нового раздела

1. Добавьте пункт в `PANEL_NAVIGATION` в `shared/constants/panel.ts`
2. Создайте страницу в `app/panel/[section]/page.tsx`
3. При необходимости добавьте `adminOnly: true`

## Стилизация

- Используются компоненты shadcn/ui
- Цветовая схема через CSS переменные
- Поддержка светлой и темной темы
- Tailwind CSS для кастомных стилей

## Быстрые действия

На дашборде отображаются быстрые действия:
- Новый товар
- Новая категория  
- Импорт товаров
- Экспорт данных

Настраиваются в `QUICK_ACTIONS` в константах.

## Уведомления

В шапке отображается счетчик уведомлений. В будущем будет интегрирован с:
- Новыми заказами
- Сообщениями в чатах
- Системными уведомлениями